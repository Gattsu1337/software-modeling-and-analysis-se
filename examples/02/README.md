# Описание на проект: Продажба на автомобили

* **Версия:** 1.0
* **Дата:** 2025-10-23

---

### 1. Резюме на проекта

| Цел на проекта | Целева аудитория | Основни резултати |
| :--- | :--- | :--- |
| Създаване на система за каталог, управление и продажба на автомобили: производители, модели, наличности, дилъри, цени. | Купувачи, дилъри, производители (представителства), администратори. | Уеб приложение, модел на данните, API за инвентар и продажби, админ панел, отчети. |

---

### 2. Обхват и основни функционалности

* **Каталог автомобили** – филтри по: Производител, Модел, Година, Цена, Цвят, Мощност.
* **Производители** – създаване/редакция; адрес на централен офис.
* **Модели** – атрибути: име на модел, години на производство, базова цена, мощност, допустими цветове.
* **Инвентар (конкретни автомобили)** – VIN, текуща цена, цвят, мощност, година, статус (Available / Reserved / Sold).
* **Дилъри** – данни за дилъра, централен офис адрес, допълнителни офиси.
* **Продажби** – запис на крайна цена, дата, дилър, клиент.
* **Управление на цени** – база + пакети + отстъпки; история на промени.
* **Роли и достъп** – гост, клиент, дилър, администратор.
* **Отчети** – продажби по период, наличности по дилър, най-продавани модели.

---

### 3. Технологичен стек (предложение)

* Backend: .NET 8 (ASP.NET Core), C#.
* Frontend: React + TypeScript.
* Database: PostgreSQL.
* Cache: Redis (списъци производители, модели).
* Auth: OAuth2/OpenID Connect.
* Документация: OpenAPI/Swagger.

---

### 4. Основни бизнес правила

#### 4.1 Роли
* Гост – преглежда ограничен каталог (без VIN).
* Клиент – пълни детайли, може да създава запитване/покупка.
* Дилър – управлява инвентар и ценообразуване.
* Администратор – пълен достъп.

#### 4.2 Правила
* Модел принадлежи на един производител.
* Производител има >= 1 модел.
* Автомобил има уникален VIN.
* Статус на автомобил ∈ {Available, Reserved, Sold}. При продажба се заключва.
* Цена > 0. Финалната цена = Базова + Пакети - Отстъпки (не < 0).
* Година на производство: 1980 .. текуща година (+1 за предстоящ модел).
* Мощност се съхранява в kW; показва се в hp (hp = kW * 1.341).
* Цвят ∈ списък разрешени цветове на модела или "Custom" с одобрение.
* Дилър има един централен офис адрес (задължителен).

---

### 5. Примерни данни
| Manufacturer | Model | Year | Color | Power kW | Price EUR | Dealer | Status |
|--------------|-------|------|-------|----------|-----------|--------|--------|
| BMW | 320d | 2023 | Black | 140 | 42000 | DealerBG01 | Available |
| VW | Golf 8 | 2024 | White | 110 | 28000 | DealerBG02 | Reserved |
| Toyota | Corolla | 2022 | Silver | 97 | 23000 | DealerBG01 | Sold |

---

### 6. Потенциални разширения
* Лизинг / кредит оферти.
* Гаранция и сервизна история.
* Пакети за екологични показатели (емисии, клас).
* Интеграция с външни каталози (VIN decode API).

---
